<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bihar Ka Swad â€” Asli Bihari Khana</title>
<link href="https://fonts.googleapis.com/css2?family=Tiro+Devanagari+Hindi:ital@0;1&family=Mukta:wght@300;400;500;600;700&family=Yatra+One&display=swap" rel="stylesheet">
<style>
:root {
  --mustard:#D4860B; --mustard-l:#F5A623; --red:#B5270C; --red-l:#E63211;
  --green:#2D6A2D; --soil:#3E2005; --soil-l:#6B3A10;
  --cream:#FDF6EC; --cream-d:#F5E9D3; --white:#FFFFFF;
  --text:#1F0F00; --muted:#7A5C3C; --border:#E8D5B5;
  --card:#FFFCF5; --shadow:rgba(62,32,5,0.10); --shadow-lg:rgba(62,32,5,0.18);
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;font-size:16px;}
body{font-family:'Mukta',sans-serif;background:var(--cream);color:var(--text);line-height:1.6;overflow-x:hidden;}
img{display:block;max-width:100%;}
a{text-decoration:none;color:inherit;}
button{font-family:'Mukta',sans-serif;cursor:pointer;border:none;outline:none;}
input,select,textarea{font-family:'Mukta',sans-serif;outline:none;}
::-webkit-scrollbar{width:6px;}
::-webkit-scrollbar-track{background:#F5E9D3;}
::-webkit-scrollbar-thumb{background:var(--mustard);border-radius:3px;}

/* TOPBAR */
.topbar{background:var(--red);color:#fff;text-align:center;font-size:0.82rem;font-weight:500;padding:0.45rem 1rem;letter-spacing:0.4px;}
.topbar span{color:var(--mustard-l);font-weight:700;}

/* NAVBAR */
.navbar{position:sticky;top:0;z-index:1000;background:var(--white);border-bottom:3px solid var(--mustard);box-shadow:0 2px 16px var(--shadow);}
.nav-inner{max-width:1280px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:0 2rem;height:70px;}
.nav-logo{display:flex;align-items:center;gap:0.6rem;}
.logo-icon{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,var(--mustard),var(--red));display:flex;align-items:center;justify-content:center;font-size:1.4rem;}
.logo-text{font-family:'Yatra One',cursive;font-size:1.5rem;color:var(--soil);line-height:1.1;}
.logo-text sub{display:block;font-family:'Mukta',sans-serif;font-size:0.62rem;font-weight:600;color:var(--mustard);letter-spacing:2px;text-transform:uppercase;}
.nav-links{display:flex;align-items:center;gap:0.25rem;}
.nav-links a{font-size:0.9rem;font-weight:600;color:var(--muted);padding:0.45rem 1rem;border-radius:8px;transition:all 0.2s;white-space:nowrap;}
.nav-links a:hover,.nav-links a.active{color:var(--mustard);background:rgba(212,134,11,0.08);}
.nav-actions{display:flex;align-items:center;gap:0.75rem;}
.nav-phone{font-size:0.82rem;font-weight:700;color:var(--soil);display:flex;align-items:center;gap:0.35rem;}
.btn-cart{background:var(--mustard);color:var(--white);font-weight:700;font-size:0.88rem;padding:0.55rem 1.1rem;border-radius:10px;display:flex;align-items:center;gap:0.5rem;transition:all 0.2s;position:relative;box-shadow:0 2px 8px rgba(212,134,11,0.3);}
.btn-cart:hover{background:var(--mustard-l);transform:translateY(-1px);}
.cart-count{position:absolute;top:-7px;right:-7px;background:var(--red);color:#fff;border-radius:50%;width:20px;height:20px;font-size:0.68rem;font-weight:800;display:flex;align-items:center;justify-content:center;border:2px solid #fff;}
.hamburger{display:none;flex-direction:column;gap:5px;background:none;padding:0.35rem;}
.hamburger span{width:22px;height:2px;background:var(--soil);border-radius:2px;display:block;transition:0.3s;}

/* SECTION SYSTEM */
.page-section{display:none;}
.page-section.active{display:block;}

/* HERO */
.hero{background:linear-gradient(135deg,#3E2005 0%,#6B3A10 40%,#8B4E18 70%,#3E2005 100%);min-height:90vh;display:grid;grid-template-columns:1fr 1fr;align-items:center;gap:3rem;padding:5rem 2rem 4rem;position:relative;overflow:hidden;}
.hero::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 60% 70% at 75% 50%,rgba(212,134,11,0.12) 0%,transparent 65%);pointer-events:none;}
.hero-left{position:relative;z-index:2;}
.hero-breadcrumb{display:inline-flex;align-items:center;gap:0.5rem;background:rgba(212,134,11,0.18);border:1px solid rgba(212,134,11,0.35);border-radius:30px;padding:0.35rem 1rem;font-size:0.78rem;font-weight:600;color:var(--mustard-l);letter-spacing:1.5px;text-transform:uppercase;margin-bottom:1.5rem;}
.hero-left h1{font-family:'Yatra One',cursive;font-size:clamp(2.4rem,4.5vw,3.8rem);color:#fff;line-height:1.15;margin-bottom:1rem;}
.hero-left h1 .highlight{color:var(--mustard-l);}
.hero-left p{color:#C8A882;font-size:1.05rem;line-height:1.75;max-width:480px;margin-bottom:2rem;}
.hero-cta{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:2.5rem;}
.btn-primary{background:linear-gradient(135deg,var(--mustard),var(--mustard-l));color:#fff;font-weight:700;font-size:0.98rem;padding:0.85rem 2rem;border-radius:12px;box-shadow:0 4px 18px rgba(212,134,11,0.4);transition:all 0.25s;display:inline-flex;align-items:center;gap:0.5rem;}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(212,134,11,0.5);}
.btn-outline-w{background:transparent;border:2px solid rgba(255,255,255,0.35);color:#fff;font-weight:600;font-size:0.98rem;padding:0.85rem 2rem;border-radius:12px;transition:all 0.25s;}
.btn-outline-w:hover{background:rgba(255,255,255,0.1);}
.hero-stats{display:flex;gap:2rem;}
.hero-stat-val{font-family:'Yatra One',cursive;font-size:1.9rem;color:var(--mustard-l);}
.hero-stat-lbl{font-size:0.77rem;color:#8B7052;font-weight:500;}
.hero-right{position:relative;z-index:2;display:grid;grid-template-columns:1fr 1fr;gap:1rem;animation:floatIn 0.8s ease 0.5s both;}
@keyframes floatIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.hero-food-card{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.12);border-radius:18px;padding:1.5rem 1rem;text-align:center;backdrop-filter:blur(8px);transition:transform 0.3s;}
.hero-food-card:hover{transform:translateY(-6px) scale(1.02);}
.hero-food-card .food-emoji{font-size:3rem;margin-bottom:0.6rem;}
.hero-food-card .food-name{color:#E8D5B5;font-size:0.85rem;font-weight:600;}
.hero-food-card .food-price{color:var(--mustard-l);font-weight:700;font-size:0.95rem;margin-top:0.25rem;}
.hero-food-card.featured{grid-column:span 2;display:flex;align-items:center;gap:1.25rem;text-align:left;padding:1.2rem 1.5rem;}
.hero-food-card.featured .food-emoji{font-size:3.5rem;margin:0;}
.hero-food-card.featured .food-desc{font-size:0.78rem;color:#A08060;margin-top:0.2rem;}

/* SECTION HEADER */
.section-wrap{max-width:1280px;margin:0 auto;padding:4.5rem 2rem;}
.sec-head{margin-bottom:2.5rem;}
.sec-head .kicker{display:inline-flex;align-items:center;gap:0.4rem;font-size:0.75rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--mustard);margin-bottom:0.6rem;}
.sec-head h2{font-family:'Yatra One',cursive;font-size:clamp(1.8rem,3vw,2.6rem);color:var(--soil);margin-bottom:0.4rem;}
.sec-head p{color:var(--muted);font-size:0.95rem;max-width:520px;}
.sec-head-row{display:flex;justify-content:space-between;align-items:flex-end;flex-wrap:wrap;gap:1rem;}

/* PILL TABS */
.pill-tabs{display:flex;gap:0.5rem;flex-wrap:wrap;margin-bottom:2rem;}
.pill{background:var(--white);border:1.5px solid var(--border);color:var(--muted);font-weight:600;font-size:0.83rem;padding:0.45rem 1.1rem;border-radius:25px;transition:all 0.2s;}
.pill:hover{border-color:var(--mustard);color:var(--mustard);}
.pill.active{background:var(--mustard);border-color:var(--mustard);color:#fff;box-shadow:0 2px 8px rgba(212,134,11,0.3);}

/* DISH CARD */
.dishes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem;}
.dish-card{background:var(--card);border:1px solid var(--border);border-radius:18px;overflow:hidden;box-shadow:0 2px 10px var(--shadow);transition:all 0.3s;}
.dish-card:hover{transform:translateY(-5px);box-shadow:0 14px 35px var(--shadow-lg);}
.dish-img{height:170px;display:flex;align-items:center;justify-content:center;font-size:4.5rem;position:relative;background:linear-gradient(135deg,#FFF3E0,#FDE8C8);}
.dish-badges{position:absolute;top:10px;left:10px;display:flex;gap:0.4rem;flex-wrap:wrap;}
.badge-veg{background:#fff;border:2px solid #2D6A2D;width:18px;height:18px;border-radius:3px;display:flex;align-items:center;justify-content:center;}
.badge-veg::after{content:'â—';font-size:8px;color:#2D6A2D;}
.badge-nonveg{background:#fff;border:2px solid #B5270C;width:18px;height:18px;border-radius:3px;display:flex;align-items:center;justify-content:center;}
.badge-nonveg::after{content:'â—';font-size:8px;color:#B5270C;}
.badge-bestseller{background:var(--mustard);color:#fff;font-size:0.62rem;font-weight:700;letter-spacing:0.5px;padding:0.15rem 0.5rem;border-radius:20px;text-transform:uppercase;}
.dish-body{padding:1.1rem 1.25rem 1.25rem;}
.dish-body h4{font-size:1rem;font-weight:700;color:var(--soil);margin-bottom:0.25rem;}
.dish-body .desc{font-size:0.8rem;color:var(--muted);margin-bottom:0.9rem;line-height:1.45;}
.dish-footer{display:flex;align-items:center;justify-content:space-between;}
.dish-price{font-family:'Yatra One',cursive;font-size:1.25rem;color:var(--mustard);}
.dish-price span{font-family:'Mukta',sans-serif;font-size:0.75rem;color:var(--muted);margin-left:2px;}
.btn-addcart{background:var(--mustard);color:#fff;font-weight:700;font-size:0.82rem;padding:0.45rem 1rem;border-radius:8px;transition:all 0.2s;display:flex;align-items:center;gap:0.35rem;}
.btn-addcart:hover{background:var(--mustard-l);transform:scale(1.05);}

/* RESTAURANT STRIP */
.rest-strip{background:linear-gradient(135deg,var(--soil),var(--soil-l));border-radius:20px;padding:2.5rem;display:flex;justify-content:space-between;align-items:center;gap:2rem;flex-wrap:wrap;margin-bottom:3rem;position:relative;overflow:hidden;}
.rest-strip::after{content:'ğŸ½';position:absolute;right:2rem;top:50%;transform:translateY(-50%);font-size:7rem;opacity:0.06;}
.rest-strip-left h3{font-family:'Yatra One',cursive;font-size:1.8rem;color:var(--mustard-l);margin-bottom:0.35rem;}
.rest-strip-left p{color:#A08060;font-size:0.9rem;max-width:380px;line-height:1.6;}
.rest-strip-badges{display:flex;gap:0.6rem;flex-wrap:wrap;margin-top:1rem;}
.rest-badge{background:rgba(212,134,11,0.15);border:1px solid rgba(212,134,11,0.3);color:var(--mustard-l);font-size:0.78rem;font-weight:600;padding:0.3rem 0.85rem;border-radius:20px;}
.rest-info-grid{display:flex;flex-direction:column;gap:0.7rem;}
.rest-info-row{display:flex;align-items:center;gap:0.7rem;color:#C8A882;font-size:0.9rem;}
.rest-info-row .icon{width:34px;height:34px;border-radius:8px;background:rgba(212,134,11,0.15);display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0;}

/* BOOKING */
.booking-card{background:var(--white);border:1px solid var(--border);border-radius:20px;padding:2.5rem;box-shadow:0 4px 20px var(--shadow);}
.booking-card h3{font-family:'Yatra One',cursive;font-size:1.6rem;color:var(--soil);margin-bottom:0.4rem;}
.booking-card>p{color:var(--muted);font-size:0.9rem;margin-bottom:2rem;}
.booking-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:1.1rem;}
.form-field{display:flex;flex-direction:column;gap:0.4rem;}
.form-field label{font-size:0.8rem;font-weight:700;color:var(--soil);text-transform:uppercase;letter-spacing:0.5px;}
.form-field input,.form-field select{background:var(--cream);border:1.5px solid var(--border);border-radius:10px;padding:0.75rem 1rem;font-size:0.93rem;color:var(--text);transition:border-color 0.2s;}
.form-field input:focus,.form-field select:focus{border-color:var(--mustard);background:#fff;}
.btn-book{background:linear-gradient(135deg,var(--red),var(--red-l));color:#fff;font-weight:700;font-size:0.95rem;padding:0.82rem 2rem;border-radius:10px;box-shadow:0 3px 14px rgba(181,39,12,0.3);transition:all 0.2s;align-self:flex-end;white-space:nowrap;}
.btn-book:hover{transform:translateY(-2px);}

/* RECIPE */
.recipe-search-bar{display:flex;gap:0.75rem;margin-bottom:2rem;}
.recipe-search-bar input{flex:1;background:var(--white);border:1.5px solid var(--border);border-radius:12px;padding:0.8rem 1.25rem;font-size:0.95rem;color:var(--text);transition:border-color 0.2s;}
.recipe-search-bar input:focus{border-color:var(--mustard);}
.recipe-search-bar button{background:var(--mustard);color:#fff;font-weight:700;font-size:0.9rem;padding:0.8rem 1.5rem;border-radius:12px;transition:all 0.2s;}
.recipes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:1.75rem;}
.recipe-card{background:var(--card);border:1px solid var(--border);border-radius:20px;overflow:hidden;box-shadow:0 2px 10px var(--shadow);transition:all 0.3s;cursor:pointer;}
.recipe-card:hover{transform:translateY(-5px);box-shadow:0 16px 40px var(--shadow-lg);}
.recipe-img{height:180px;display:flex;align-items:center;justify-content:center;font-size:5rem;position:relative;}
.diff-chip{position:absolute;top:12px;right:12px;font-size:0.7rem;font-weight:700;padding:0.2rem 0.65rem;border-radius:20px;letter-spacing:0.5px;}
.diff-chip.easy{background:#E8F5E9;color:#2D6A2D;}
.diff-chip.medium{background:#FFF3E0;color:#D4860B;}
.diff-chip.hard{background:#FFEBEE;color:#B5270C;}
.recipe-body{padding:1.4rem 1.5rem 1.5rem;}
.recipe-body h4{font-size:1.05rem;font-weight:700;color:var(--soil);margin-bottom:0.4rem;}
.recipe-body p{font-size:0.82rem;color:var(--muted);margin-bottom:1rem;line-height:1.5;}
.recipe-meta-row{display:flex;gap:1rem;flex-wrap:wrap;}
.rmeta{font-size:0.77rem;color:var(--muted);}
.rmeta b{color:var(--mustard);}

/* ORDER */
.order-layout{display:grid;grid-template-columns:1fr 360px;gap:2.5rem;align-items:start;}
.order-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1.25rem;box-shadow:0 2px 8px var(--shadow);transition:all 0.3s;}
.order-card:hover{transform:translateY(-3px);box-shadow:0 10px 26px var(--shadow-lg);}
.order-card h4{font-weight:700;font-size:0.98rem;color:var(--soil);margin-bottom:0.2rem;}
.order-card p{font-size:0.8rem;color:var(--muted);margin-bottom:0.9rem;}
.oc-foot{display:flex;align-items:center;justify-content:space-between;}
.oc-price{font-family:'Yatra One',cursive;font-size:1.15rem;color:var(--mustard);}
.qty-wrap{display:flex;align-items:center;gap:0.5rem;}
.qty-btn{width:30px;height:30px;border-radius:50%;border:2px solid var(--border);background:var(--white);font-size:1.1rem;font-weight:700;color:var(--soil);display:flex;align-items:center;justify-content:center;transition:all 0.2s;}
.qty-btn:hover{border-color:var(--mustard);color:var(--mustard);}
.qty-num{font-weight:700;min-width:20px;text-align:center;color:var(--soil);}
.cart-panel{background:var(--white);border:1px solid var(--border);border-radius:20px;padding:1.75rem;box-shadow:0 4px 20px var(--shadow);position:sticky;top:90px;max-height:calc(100vh - 110px);overflow-y:auto;}
.cart-panel h3{font-family:'Yatra One',cursive;font-size:1.35rem;color:var(--soil);margin-bottom:1.25rem;}
.cart-empty{text-align:center;padding:2rem 0;color:var(--muted);}
.cart-empty-icon{font-size:3.5rem;display:block;margin-bottom:0.75rem;}
.cart-item{display:flex;justify-content:space-between;align-items:center;padding:0.85rem 0;border-bottom:1px dashed var(--border);gap:0.5rem;}
.ci-left h5{font-size:0.88rem;font-weight:600;color:var(--soil);}
.ci-left p{font-size:0.75rem;color:var(--muted);}
.ci-right{display:flex;align-items:center;gap:0.5rem;}
.ci-price{font-weight:700;color:var(--mustard);font-size:0.93rem;}
.ci-del{background:none;color:var(--muted);font-size:1rem;transition:color 0.2s;}
.ci-del:hover{color:var(--red);}
.cart-subtotals{padding:1rem 0;border-top:1px solid var(--border);margin-top:0.75rem;}
.cart-row{display:flex;justify-content:space-between;font-size:0.85rem;color:var(--muted);margin-bottom:0.4rem;}
.cart-total-row{display:flex;justify-content:space-between;font-weight:700;color:var(--soil);font-size:1rem;padding-top:0.5rem;border-top:1.5px solid var(--border);}
.cart-total-row .val{font-family:'Yatra One',cursive;font-size:1.3rem;color:var(--mustard);}
.btn-checkout{width:100%;background:linear-gradient(135deg,var(--mustard),var(--mustard-l));color:#fff;font-weight:700;font-size:1rem;padding:0.9rem;border-radius:12px;margin-top:1.25rem;box-shadow:0 3px 14px rgba(212,134,11,0.3);transition:all 0.2s;}
.btn-checkout:hover{transform:translateY(-1px);}
.btn-checkout:disabled{background:#DDD;color:#999;box-shadow:none;cursor:not-allowed;transform:none;}
.delivery-badge{display:flex;align-items:center;gap:0.5rem;background:#E8F5E9;border:1px solid #A5D6A7;border-radius:8px;padding:0.6rem 0.9rem;font-size:0.8rem;color:#2D6A2D;font-weight:600;margin-top:0.75rem;}

/* BLOG */
.blog-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:2rem;}
.blog-card{background:var(--card);border:1px solid var(--border);border-radius:20px;overflow:hidden;box-shadow:0 2px 10px var(--shadow);transition:all 0.3s;}
.blog-card:hover{transform:translateY(-5px);box-shadow:0 16px 40px var(--shadow-lg);}
.blog-img{height:210px;display:flex;align-items:center;justify-content:center;font-size:5.5rem;position:relative;}
.blog-cat{position:absolute;top:12px;left:12px;background:var(--red);color:#fff;font-size:0.7rem;font-weight:700;padding:0.25rem 0.75rem;border-radius:20px;letter-spacing:0.5px;}
.blog-body{padding:1.6rem;}
.blog-meta{display:flex;gap:1rem;margin-bottom:0.75rem;}
.blog-meta span{font-size:0.75rem;color:var(--muted);}
.blog-body h4{font-family:'Yatra One',cursive;font-size:1.15rem;color:var(--soil);margin-bottom:0.5rem;line-height:1.4;}
.blog-body p{font-size:0.83rem;color:var(--muted);line-height:1.6;margin-bottom:1.2rem;}
.btn-read-more{display:inline-flex;align-items:center;gap:0.4rem;color:var(--mustard);font-weight:700;font-size:0.85rem;border-bottom:2px solid transparent;transition:all 0.2s;}
.btn-read-more:hover{border-color:var(--mustard);}

/* ORDER HISTORY PAGE */
.history-empty{text-align:center;padding:4rem 2rem;color:var(--muted);}
.history-empty .big-icon{font-size:5rem;display:block;margin-bottom:1rem;}
.order-history-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1.5rem;margin-bottom:1rem;box-shadow:0 2px 8px var(--shadow);}
.oh-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;flex-wrap:wrap;gap:0.5rem;}
.oh-id{font-family:'Yatra One',cursive;font-size:1.1rem;color:var(--soil);}
.oh-date{font-size:0.78rem;color:var(--muted);}
.oh-status{display:inline-flex;align-items:center;gap:0.4rem;padding:0.3rem 0.85rem;border-radius:20px;font-size:0.78rem;font-weight:700;}
.oh-status.delivered{background:#E8F5E9;color:#2D6A2D;}
.oh-status.preparing{background:#FFF3E0;color:#D4860B;}
.oh-items{display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1rem;}
.oh-item-chip{background:var(--cream-d);border:1px solid var(--border);border-radius:20px;padding:0.2rem 0.75rem;font-size:0.78rem;color:var(--muted);}
.oh-footer{display:flex;justify-content:space-between;align-items:center;}
.oh-total{font-family:'Yatra One',cursive;font-size:1.2rem;color:var(--mustard);}
.btn-reorder{background:var(--mustard);color:#fff;font-weight:700;font-size:0.82rem;padding:0.45rem 1rem;border-radius:8px;transition:all 0.2s;}
.btn-reorder:hover{background:var(--mustard-l);}

/* BOOKINGS HISTORY */
.booking-history-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1.5rem;margin-bottom:1rem;box-shadow:0 2px 8px var(--shadow);}
.bh-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.75rem;flex-wrap:wrap;gap:0.5rem;}
.bh-name{font-weight:700;color:var(--soil);font-size:1rem;}
.bh-badge{background:rgba(212,134,11,0.12);border:1px solid rgba(212,134,11,0.3);color:var(--mustard);font-size:0.75rem;font-weight:600;padding:0.22rem 0.75rem;border-radius:20px;}
.bh-details{display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;}
.bh-detail{font-size:0.85rem;color:var(--muted);}
.bh-detail b{color:var(--soil);}

/* MODAL */
.modal-bg{position:fixed;inset:0;background:rgba(30,10,0,0.75);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:5000;padding:1rem;}
.modal-bg.open{display:flex;}
.modal-box{background:#fff;border-radius:24px;max-width:660px;width:100%;max-height:90vh;overflow-y:auto;animation:popIn 0.3s cubic-bezier(0.34,1.56,0.64,1);position:relative;}
@keyframes popIn{from{opacity:0;transform:scale(0.88)}to{opacity:1;transform:scale(1)}}
.modal-close-btn{position:absolute;top:1rem;right:1rem;width:36px;height:36px;border-radius:50%;background:var(--cream-d);border:none;font-size:1.1rem;color:var(--muted);font-weight:700;display:flex;align-items:center;justify-content:center;transition:all 0.2s;cursor:pointer;}
.modal-close-btn:hover{background:var(--red);color:#fff;}
.modal-header{padding:2rem 2rem 1rem;}
.modal-emoji{font-size:3.5rem;margin-bottom:0.75rem;}
.modal-header h3{font-family:'Yatra One',cursive;font-size:1.7rem;color:var(--soil);margin-bottom:0.5rem;}
.modal-chips{display:flex;gap:0.5rem;flex-wrap:wrap;margin:0.75rem 0;}
.modal-chip{background:var(--cream-d);border:1px solid var(--border);border-radius:20px;padding:0.22rem 0.75rem;font-size:0.77rem;color:var(--muted);}
.modal-body{padding:0 2rem 2rem;}
.modal-body h4{font-size:1rem;font-weight:700;color:var(--soil);margin:1.25rem 0 0.75rem;}
.ingredient-list{list-style:none;}
.ingredient-list li{display:flex;align-items:flex-start;gap:0.6rem;padding:0.4rem 0;border-bottom:1px dashed var(--border);font-size:0.9rem;color:var(--text);}
.ingredient-list li::before{content:'ğŸ”¸';font-size:0.68rem;margin-top:4px;flex-shrink:0;}
.steps-ol{list-style:none;counter-reset:step;}
.steps-ol li{display:flex;gap:1rem;padding:0.85rem 0;border-bottom:1px solid var(--border);font-size:0.92rem;color:var(--text);line-height:1.65;counter-increment:step;}
.steps-ol li::before{content:counter(step);min-width:30px;height:30px;background:var(--mustard);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.78rem;font-weight:800;flex-shrink:0;}
.pro-tip{background:linear-gradient(135deg,#FFF8EE,#FDF0DB);border-left:4px solid var(--mustard);border-radius:0 12px 12px 0;padding:1rem 1.2rem;margin-top:1.5rem;font-size:0.88rem;color:var(--soil);}
.pro-tip b{color:var(--mustard);}

/* FEATURES */
.features-section{background:var(--soil);padding:3rem 2rem;}
.features-inner{max-width:1280px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem;}
.feature-tile{text-align:center;padding:1.75rem 1rem;border:1px solid rgba(212,134,11,0.2);border-radius:16px;transition:all 0.3s;}
.feature-tile:hover{background:rgba(212,134,11,0.08);border-color:rgba(212,134,11,0.4);}
.feature-tile .ficon{font-size:2.2rem;margin-bottom:0.75rem;}
.feature-tile h4{font-size:0.95rem;font-weight:700;color:#E8D5B5;margin-bottom:0.3rem;}
.feature-tile p{font-size:0.78rem;color:#8B7052;line-height:1.5;}

/* CATEGORIES */
.cats-row{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;margin:1rem 0 3rem;}
.cat-pill{display:flex;flex-direction:column;align-items:center;gap:0.4rem;background:var(--white);border:1.5px solid var(--border);border-radius:16px;padding:1.1rem 1.5rem;cursor:pointer;transition:all 0.25s;min-width:100px;box-shadow:0 1px 5px var(--shadow);}
.cat-pill:hover{border-color:var(--mustard);transform:translateY(-3px);box-shadow:0 8px 20px var(--shadow-lg);}
.cat-pill .ce{font-size:2rem;}
.cat-pill span{font-size:0.78rem;font-weight:600;color:var(--muted);}

/* FOOTER */
footer{background:var(--soil);color:#A08060;padding:3.5rem 2rem 1.5rem;}
.footer-inner{max-width:1280px;margin:0 auto;}
.footer-top{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:3rem;margin-bottom:3rem;}
.footer-brand .fl{font-family:'Yatra One',cursive;font-size:1.6rem;color:var(--mustard-l);margin-bottom:0.5rem;}
.footer-brand p{font-size:0.85rem;line-height:1.7;max-width:260px;}
.footer-col h5{font-size:0.85rem;font-weight:700;color:#E8D5B5;margin-bottom:1rem;letter-spacing:0.5px;text-transform:uppercase;}
.footer-col a{display:block;font-size:0.84rem;color:#8B7052;margin-bottom:0.5rem;transition:color 0.2s;}
.footer-col a:hover{color:var(--mustard-l);}
.footer-bottom{border-top:1px solid rgba(212,134,11,0.15);padding-top:1.25rem;display:flex;justify-content:space-between;flex-wrap:wrap;gap:1rem;}
.footer-bottom p{font-size:0.78rem;color:#5A3C20;}

/* TOAST */
.toast-stack{position:fixed;bottom:1.5rem;right:1.5rem;z-index:9999;display:flex;flex-direction:column;gap:0.6rem;}
.toast{background:var(--soil);color:#E8D5B5;border-left:4px solid var(--mustard);border-radius:10px;padding:0.9rem 1.25rem;font-size:0.88rem;font-weight:500;min-width:240px;box-shadow:0 6px 24px rgba(0,0,0,0.25);transform:translateX(120%);opacity:0;transition:all 0.35s cubic-bezier(0.34,1.2,0.64,1);}
.toast.show{transform:translateX(0);opacity:1;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AI CHATBOT â€” BACKEND FEATURE #1
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.chat-fab{
  position:fixed;bottom:2rem;left:2rem;z-index:8000;
  width:60px;height:60px;border-radius:50%;
  background:linear-gradient(135deg,var(--soil),var(--soil-l));
  border:3px solid var(--mustard);
  display:flex;align-items:center;justify-content:center;
  font-size:1.6rem;cursor:pointer;
  box-shadow:0 4px 24px rgba(62,32,5,0.4);
  transition:all 0.3s;
  animation:pulse-fab 3s infinite;
}
.chat-fab:hover{transform:scale(1.1);box-shadow:0 8px 32px rgba(62,32,5,0.5);}
@keyframes pulse-fab{0%,100%{box-shadow:0 4px 24px rgba(212,134,11,0.3)}50%{box-shadow:0 4px 32px rgba(212,134,11,0.7)}}
.chat-fab-label{
  position:absolute;bottom:68px;left:50%;transform:translateX(-50%);
  background:var(--soil);color:var(--mustard-l);
  font-size:0.72rem;font-weight:700;white-space:nowrap;
  padding:0.3rem 0.75rem;border-radius:20px;
  border:1px solid rgba(212,134,11,0.3);
  pointer-events:none;
}

.chat-window{
  position:fixed;bottom:5.5rem;left:2rem;z-index:8000;
  width:360px;max-height:520px;
  background:#fff;border-radius:20px;
  border:1.5px solid var(--border);
  box-shadow:0 20px 60px rgba(62,32,5,0.25);
  display:none;flex-direction:column;overflow:hidden;
  animation:popIn 0.3s cubic-bezier(0.34,1.56,0.64,1);
}
.chat-window.open{display:flex;}
.chat-header{
  background:linear-gradient(135deg,var(--soil),var(--soil-l));
  padding:1rem 1.25rem;
  display:flex;align-items:center;justify-content:space-between;
}
.chat-header-left{display:flex;align-items:center;gap:0.75rem;}
.chat-avatar{width:38px;height:38px;border-radius:50%;background:var(--mustard);display:flex;align-items:center;justify-content:center;font-size:1.2rem;}
.chat-header-info h4{color:#fff;font-size:0.95rem;font-weight:700;}
.chat-header-info p{color:#A08060;font-size:0.72rem;}
.chat-close{background:rgba(255,255,255,0.1);border:none;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:0.9rem;display:flex;align-items:center;justify-content:center;transition:background 0.2s;}
.chat-close:hover{background:rgba(255,255,255,0.2);}
.chat-messages{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:0.75rem;}
.chat-messages::-webkit-scrollbar{width:3px;}
.msg{max-width:82%;padding:0.7rem 1rem;border-radius:14px;font-size:0.85rem;line-height:1.5;}
.msg.bot{background:var(--cream-d);color:var(--text);align-self:flex-start;border-bottom-left-radius:4px;}
.msg.user{background:var(--mustard);color:#fff;align-self:flex-end;border-bottom-right-radius:4px;}
.msg.bot b{color:var(--mustard);}
.msg-loading{display:flex;gap:5px;padding:0.7rem 1rem;align-self:flex-start;background:var(--cream-d);border-radius:14px;border-bottom-left-radius:4px;}
.msg-loading span{width:8px;height:8px;border-radius:50%;background:var(--muted);animation:bounce-dot 1.2s infinite;}
.msg-loading span:nth-child(2){animation-delay:0.2s;}
.msg-loading span:nth-child(3){animation-delay:0.4s;}
@keyframes bounce-dot{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-8px)}}
.chat-suggestions{padding:0.5rem 1rem;display:flex;gap:0.4rem;flex-wrap:wrap;border-top:1px solid var(--border);}
.chat-sug{background:var(--cream-d);border:1px solid var(--border);color:var(--muted);font-size:0.72rem;font-weight:600;padding:0.28rem 0.65rem;border-radius:20px;cursor:pointer;transition:all 0.2s;}
.chat-sug:hover{background:var(--mustard);color:#fff;border-color:var(--mustard);}
.chat-input-row{display:flex;gap:0.5rem;padding:0.75rem 1rem;border-top:1px solid var(--border);}
.chat-input{flex:1;background:var(--cream);border:1.5px solid var(--border);border-radius:10px;padding:0.6rem 0.9rem;font-size:0.88rem;color:var(--text);transition:border-color 0.2s;}
.chat-input:focus{border-color:var(--mustard);}
.chat-send{background:var(--mustard);color:#fff;width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1rem;transition:all 0.2s;flex-shrink:0;}
.chat-send:hover{background:var(--mustard-l);}
.chat-send:disabled{background:#DDD;cursor:not-allowed;}

/* STORAGE INDICATOR */
.storage-badge{
  display:inline-flex;align-items:center;gap:0.4rem;
  background:#E8F5E9;border:1px solid #A5D6A7;
  color:#2D6A2D;font-size:0.72rem;font-weight:700;
  padding:0.2rem 0.6rem;border-radius:20px;
}
.storage-badge::before{content:'ğŸ’¾';}

/* RESPONSIVE */
@media(max-width:1024px){
  .hero{grid-template-columns:1fr;min-height:auto;padding:4rem 2rem 3rem;}
  .hero-right{display:grid;grid-template-columns:repeat(4,1fr);}
  .hero-food-card.featured{grid-column:span 2;}
  .order-layout{grid-template-columns:1fr;}
  .cart-panel{position:static;max-height:none;}
  .footer-top{grid-template-columns:1fr 1fr;}
}
@media(max-width:768px){
  .nav-links{display:none;position:fixed;top:70px;left:0;right:0;background:#fff;border-bottom:2px solid var(--mustard);flex-direction:column;padding:1rem;box-shadow:0 4px 20px var(--shadow);}
  .nav-links.open{display:flex;}
  .hamburger{display:flex;}
  .nav-phone{display:none;}
  .hero-right{grid-template-columns:1fr 1fr;}
  .hero-food-card.featured{grid-column:span 2;}
  .footer-top{grid-template-columns:1fr;gap:2rem;}
  .rest-strip{flex-direction:column;}
  .chat-window{width:calc(100vw - 2rem);left:1rem;}
}
@media(max-width:480px){
  .hero-stats{flex-wrap:wrap;gap:1.25rem;}
  .section-wrap{padding:3rem 1.25rem;}
  .bh-details{grid-template-columns:1fr;}
}
</style>
</head>
<body>

<div class="topbar">
  ğŸ‰ Aaj ka Special: <span>Litti Chokha â‚¹99 only</span> &nbsp;|&nbsp; ğŸ›µ Free Delivery above â‚¹299 &nbsp;|&nbsp; ğŸ“ Order: <span>+91 98765 43210</span>
</div>

<nav class="navbar">
  <div class="nav-inner">
    <div class="nav-logo">
      <div class="logo-icon">ğŸ›</div>
      <div class="logo-text">Bihar Ka Swad<sub>Patna, Bihar</sub></div>
    </div>
    <nav class="nav-links" id="navLinks">
      <a href="#" onclick="goTo('home',this)" class="active">Home</a>
      <a href="#" onclick="goTo('restaurant',this)">Restaurant</a>
      <a href="#" onclick="goTo('recipes',this)">Recipes</a>
      <a href="#" onclick="goTo('order',this)">Order Online</a>
      <a href="#" onclick="goTo('history',this)">ğŸ“‹ My Orders</a>
      <a href="#" onclick="goTo('blog',this)">Blog</a>
    </nav>
    <div class="nav-actions">
      <div class="nav-phone">ğŸ“ 98765-43210</div>
      <button class="btn-cart" onclick="goTo('order',null)">
        ğŸ›’ Cart<span class="cart-count" id="cartCount">0</span>
      </button>
      <button class="hamburger" onclick="toggleNav()">
        <span></span><span></span><span></span>
      </button>
    </div>
  </div>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• HOME â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="home" class="page-section active">
  <section class="hero">
    <div class="hero-left">
      <div class="hero-breadcrumb">ğŸŒ¾ Bihar Ka Asli Swad</div>
      <h1>Mitti Ki Khushbu<br><span class="highlight">Dadi Ka Pyaar</span><br>Ek Plate Mein</h1>
      <p>Litti Chokha se lekar Khaja tak â€” Bihar ke asli ghar jaisi recipes, seedha aapki thali mein. Patna ka sabse trusted Bihari restaurant.</p>
      <div class="hero-cta">
        <button class="btn-primary" onclick="goTo('order',null)">ğŸ›µ Abhi Order Karein</button>
        <button class="btn-outline-w" onclick="goTo('restaurant',null)">Menu Dekhein â†’</button>
      </div>
      <div class="hero-stats">
        <div><div class="hero-stat-val">500+</div><div class="hero-stat-lbl">Daily Orders</div></div>
        <div><div class="hero-stat-val">4.9â˜…</div><div class="hero-stat-lbl">Rating</div></div>
        <div><div class="hero-stat-val">12 Saal</div><div class="hero-stat-lbl">Ka Anubhav</div></div>
      </div>
    </div>
    <div class="hero-right">
      <div class="hero-food-card featured">
        <span class="food-emoji">ğŸ”¥</span>
        <div>
          <div class="food-name">Litti Chokha â€” Bihar Ka Raajkhana</div>
          <div class="food-desc">Sattu stuffed wheat balls + roasted baigan chokha</div>
          <div class="food-price">â‚¹99 / Plate</div>
        </div>
      </div>
      <div class="hero-food-card"><div class="food-emoji">ğŸ¥˜</div><div class="food-name">Mutton Curry</div><div class="food-price">â‚¹280</div></div>
      <div class="hero-food-card"><div class="food-emoji">ğŸš</div><div class="food-name">Biryani</div><div class="food-price">â‚¹199</div></div>
      <div class="hero-food-card"><div class="food-emoji">ğŸ¬</div><div class="food-name">Khaja</div><div class="food-price">â‚¹60</div></div>
      <div class="hero-food-card"><div class="food-emoji">ğŸ¥›</div><div class="food-name">Sattu Sharbat</div><div class="food-price">â‚¹40</div></div>
    </div>
  </section>
  <div class="features-section">
    <div class="features-inner">
      <div class="feature-tile"><div class="ficon">ğŸ›µ</div><h4>30 Min Delivery</h4><p>Patna mein sabse fast delivery guaranteed</p></div>
      <div class="feature-tile"><div class="ficon">ğŸŒ¾</div><h4>100% Fresh</h4><p>Roz subah taazi samagri, koi preservative nahi</p></div>
      <div class="feature-tile"><div class="ficon">ğŸ‘¨â€ğŸ³</div><h4>Master Chef</h4><p>Bihar ke expert haath se bana asli swad</p></div>
      <div class="feature-tile"><div class="ficon">ğŸ’³</div><h4>Easy Payment</h4><p>UPI, Cash, Card â€” sab accept</p></div>
      <div class="feature-tile"><div class="ficon">ğŸ¤–</div><h4>AI Assistant</h4><p>Hamara chatbot recommend karega best dish aapke liye</p></div>
    </div>
  </div>
  <div class="section-wrap" style="padding-bottom:2rem;">
    <div class="sec-head" style="text-align:center;">
      <div class="kicker">ğŸ› Category</div>
      <h2>Kya Khana Chahenge Aaj?</h2>
    </div>
    <div class="cats-row">
      <div class="cat-pill" onclick="goTo('order',null)"><div class="ce">ğŸ”¥</div><span>Litti Chokha</span></div>
      <div class="cat-pill" onclick="goTo('order',null)"><div class="ce">ğŸš</div><span>Biryani</span></div>
      <div class="cat-pill" onclick="goTo('order',null)"><div class="ce">ğŸ¥˜</div><span>Curry</span></div>
      <div class="cat-pill" onclick="goTo('order',null)"><div class="ce">ğŸ¬</div><span>Mithai</span></div>
      <div class="cat-pill" onclick="goTo('order',null)"><div class="ce">ğŸ¥›</div><span>Drinks</span></div>
      <div class="cat-pill" onclick="goTo('order',null)"><div class="ce">ğŸ¥—</div><span>Snacks</span></div>
    </div>
  </div>
  <div class="section-wrap" style="padding-top:0;background:var(--cream-d);max-width:100%;">
    <div style="max-width:1280px;margin:0 auto;padding:3rem 2rem;">
      <div class="sec-head-row">
        <div class="sec-head" style="margin:0;">
          <div class="kicker">â­ Bestsellers</div>
          <h2>Sabse Zyada Pasand Kiye Jaane Wale</h2>
        </div>
        <button class="pill active" onclick="goTo('restaurant',null)">Poora Menu â†’</button>
      </div>
      <div style="margin-top:2rem;" class="dishes-grid" id="homePopular"></div>
    </div>
  </div>
  <footer>
    <div class="footer-inner">
      <div class="footer-top">
        <div class="footer-brand">
          <div class="fl">Bihar Ka Swad</div>
          <p>Patna ka sabse beloved Bihari restaurant. Asli ghar jaisa swad, 12 saalon se logon ke dil mein.</p>
        </div>
        <div class="footer-col">
          <h5>Quick Links</h5>
          <a href="#" onclick="goTo('home',null)">Home</a>
          <a href="#" onclick="goTo('restaurant',null)">Restaurant</a>
          <a href="#" onclick="goTo('recipes',null)">Recipes</a>
          <a href="#" onclick="goTo('order',null)">Order</a>
          <a href="#" onclick="goTo('history',null)">My Orders</a>
        </div>
        <div class="footer-col">
          <h5>Hamare Dishes</h5>
          <a href="#">Litti Chokha</a><a href="#">Sattu Paratha</a>
          <a href="#">Mutton Curry</a><a href="#">Biryani</a><a href="#">Khaja Mithai</a>
        </div>
        <div class="footer-col">
          <h5>Humse Milein</h5>
          <a href="#">ğŸ“ Station Road, Patna â€“ 800001</a>
          <a href="#">ğŸ“ +91 98765 43210</a>
          <a href="#">âœ‰ swad@biharkaswad.com</a>
          <a href="#">ğŸ• Roz: 8 AM â€“ 11 PM</a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>Â© 2025 Bihar Ka Swad. Sabhi haq surakshit hain.</p>
        <p>Made with â¤ï¸ in Patna, Bihar</p>
      </div>
    </div>
  </footer>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• RESTAURANT â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="restaurant" class="page-section">
  <div class="section-wrap">
    <div class="rest-strip">
      <div class="rest-strip-left">
        <h3>Bihar Ka Swad Restaurant</h3>
        <p>1997 se Patna ki shaan â€” purani diwaron mein naye zamanon ka swad.</p>
        <div class="rest-strip-badges">
          <span class="rest-badge">â­ 4.9 / 5.0</span>
          <span class="rest-badge">ğŸ† Best Bihari 2024</span>
          <span class="rest-badge">ğŸ¥— Veg + Non-Veg</span>
          <span class="rest-badge">ğŸ‰ Events Available</span>
        </div>
      </div>
      <div class="rest-info-grid">
        <div class="rest-info-row"><div class="icon">ğŸ“</div>Station Road, Patna â€“ 800001</div>
        <div class="rest-info-row"><div class="icon">ğŸ“</div>+91 98765 43210</div>
        <div class="rest-info-row"><div class="icon">ğŸ•</div>Roz Subah 8 baje â€“ Raat 11 baje</div>
        <div class="rest-info-row"><div class="icon">ğŸ›µ</div>Free delivery â‚¹299+ orders par</div>
      </div>
    </div>
    <div class="sec-head">
      <div class="kicker">ğŸ½ Hamara Menu</div>
      <h2>Sabse Swadisht Bihari Khana</h2>
    </div>
    <div class="pill-tabs" id="restTabs">
      <button class="pill active" onclick="filterMenu('all',this)">ğŸ½ Sab</button>
      <button class="pill" onclick="filterMenu('bihari',this)">ğŸ”¥ Bihari Special</button>
      <button class="pill" onclick="filterMenu('curry',this)">ğŸ¥˜ Curry</button>
      <button class="pill" onclick="filterMenu('biryani',this)">ğŸš Biryani</button>
      <button class="pill" onclick="filterMenu('snacks',this)">ğŸ¥— Snacks</button>
      <button class="pill" onclick="filterMenu('mithai',this)">ğŸ¬ Mithai</button>
      <button class="pill" onclick="filterMenu('drinks',this)">ğŸ¥› Drinks</button>
    </div>
    <div class="dishes-grid" id="menuGrid"></div>

    <!-- TABLE BOOKING with persistent storage -->
    <div style="margin-top:4rem;">
      <div class="sec-head">
        <div class="kicker">ğŸª‘ Reservation</div>
        <h2>Table Book Karein</h2>
        <p>Booking save hoti hai â€” <span class="storage-badge">Persistent Storage</span></p>
      </div>
      <div class="booking-card">
        <h3>ğŸª‘ Table Reservation</h3>
        <p>Kisi bhi special occasion ke liye â€” birthday, anniversary, family gathering</p>
        <div class="booking-grid">
          <div class="form-field"><label>Aapka Naam</label><input type="text" placeholder="Jaise: Ramesh Kumar" id="bName"></div>
          <div class="form-field"><label>Phone</label><input type="tel" placeholder="+91 XXXXX XXXXX" id="bPhone"></div>
          <div class="form-field"><label>Tarikh</label><input type="date" id="bDate"></div>
          <div class="form-field"><label>Samay</label><input type="time" id="bTime"></div>
          <div class="form-field">
            <label>Log</label>
            <select id="bGuests">
              <option>1 Log</option><option>2 Log</option><option selected>3â€“4 Log</option>
              <option>5â€“6 Log</option><option>7â€“10 Log</option><option>10+ (Party)</option>
            </select>
          </div>
          <div class="form-field"><label>Vishesh Iccha</label><input type="text" id="bSpecial" placeholder="Jaise: Birthday cake chahiye..."></div>
          <button class="btn-book" onclick="bookTable()">âœ“ Table Book Karein</button>
        </div>
      </div>
    </div>

    <!-- BOOKING HISTORY -->
    <div style="margin-top:3rem;" id="bookingHistorySection">
      <div class="sec-head">
        <div class="kicker">ğŸ“… Aapki Bookings</div>
        <h2>Saved Reservations</h2>
        <p><span class="storage-badge">Persistent Storage</span> â€” Refresh ke baad bhi saved!</p>
      </div>
      <div id="bookingHistoryList"></div>
    </div>
  </div>
  <footer><div class="footer-inner"><div class="footer-bottom" style="border:none;padding:1.5rem 0;"><p>Â© 2025 Bihar Ka Swad. Made with â¤ï¸ in Patna</p></div></div></footer>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• RECIPES â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="recipes" class="page-section">
  <div class="section-wrap">
    <div class="sec-head">
      <div class="kicker">ğŸ‘¨â€ğŸ³ Ghar Ki Recipes</div>
      <h2>Bihar Ke Mashhoor Recipes</h2>
      <p>Step-by-step guide se ghar par banao asli Bihari swad</p>
    </div>
    <div class="recipe-search-bar">
      <input type="text" id="recipeSrch" placeholder="Recipe dhundhoâ€¦ jaise Litti, Sattu, Khajaâ€¦" oninput="searchRecipes()">
      <button onclick="searchRecipes()">ğŸ” Search</button>
    </div>
    <div class="recipes-grid" id="recipeGrid"></div>
  </div>
  <footer><div class="footer-inner"><div class="footer-bottom" style="border:none;padding:1.5rem 0;"><p>Â© 2025 Bihar Ka Swad. Made with â¤ï¸ in Patna</p></div></div></footer>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• ORDER â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="order" class="page-section">
  <div class="section-wrap">
    <div class="sec-head">
      <div class="kicker">ğŸ›µ Online Order</div>
      <h2>Ghar Baithe Mangao</h2>
      <p>30 minute mein garam Bihari khana aapke darwaze par</p>
    </div>
    <div class="pill-tabs" id="orderTabs">
      <button class="pill active" onclick="filterOrder('all',this)">Sab</button>
      <button class="pill" onclick="filterOrder('bihari',this)">Bihari Special</button>
      <button class="pill" onclick="filterOrder('curry',this)">Curry</button>
      <button class="pill" onclick="filterOrder('biryani',this)">Biryani</button>
      <button class="pill" onclick="filterOrder('snacks',this)">Snacks</button>
      <button class="pill" onclick="filterOrder('mithai',this)">Mithai</button>
      <button class="pill" onclick="filterOrder('drinks',this)">Drinks</button>
    </div>
    <div class="order-layout">
      <div class="dishes-grid" id="orderGrid" style="grid-template-columns:repeat(auto-fill,minmax(220px,1fr))"></div>
      <div class="cart-panel">
        <h3>ğŸ›’ Aapki Cart</h3>
        <div id="cartBody"><div class="cart-empty"><span class="cart-empty-icon">ğŸ›’</span>Cart khaali hai<br><small>Items add karein</small></div></div>
        <div id="cartSub" style="display:none">
          <div class="cart-subtotals">
            <div class="cart-row"><span>Subtotal</span><span id="cartSubAmt">â‚¹0</span></div>
            <div class="cart-row"><span>Delivery</span><span style="color:var(--green)">Free</span></div>
            <div class="cart-row"><span>GST (5%)</span><span id="cartGst">â‚¹0</span></div>
            <div class="cart-total-row"><span>Total</span><span class="val" id="cartTotalAmt">â‚¹0</span></div>
          </div>
          <button class="btn-checkout" onclick="placeOrder()">ğŸ“¦ Order Place Karein</button>
          <div class="delivery-badge">âœ… 30 min delivery â€” Patna mein</div>
        </div>
      </div>
    </div>
  </div>
  <footer><div class="footer-inner"><div class="footer-bottom" style="border:none;padding:1.5rem 0;"><p>Â© 2025 Bihar Ka Swad. Made with â¤ï¸ in Patna</p></div></div></footer>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• ORDER HISTORY â€” BACKEND FEATURE #2 â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="history" class="page-section">
  <div class="section-wrap">
    <div class="sec-head-row" style="margin-bottom:2rem;">
      <div class="sec-head" style="margin:0;">
        <div class="kicker">ğŸ“‹ Order History</div>
        <h2>Aapke Purane Orders</h2>
        <p><span class="storage-badge">Persistent Storage</span> â€” Browser refresh ke baad bhi orders saved!</p>
      </div>
      <button class="pill" onclick="clearOrderHistory()" style="border-color:var(--red);color:var(--red);">ğŸ—‘ Clear All</button>
    </div>
    <div id="orderHistoryList"></div>
    
    <div style="margin-top:4rem;">
      <div class="sec-head">
        <div class="kicker">ğŸ“… Table Bookings</div>
        <h2>Aapki Reservations</h2>
      </div>
      <div id="allBookingsList"></div>
    </div>
  </div>
  <footer><div class="footer-inner"><div class="footer-bottom" style="border:none;padding:1.5rem 0;"><p>Â© 2025 Bihar Ka Swad. Made with â¤ï¸ in Patna</p></div></div></footer>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• BLOG â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="blog" class="page-section">
  <div class="section-wrap">
    <div class="sec-head">
      <div class="kicker">ğŸ“ Food Stories</div>
      <h2>Bihar Ka Swad Blog</h2>
    </div>
    <div class="blog-grid" id="blogGrid"></div>
  </div>
  <footer><div class="footer-inner"><div class="footer-bottom" style="border:none;padding:1.5rem 0;"><p>Â© 2025 Bihar Ka Swad. Made with â¤ï¸ in Patna</p></div></div></footer>
</div>

<!-- RECIPE MODAL -->
<div class="modal-bg" id="recipeModal">
  <div class="modal-box">
    <button class="modal-close-btn" onclick="closeModal('recipeModal')">âœ•</button>
    <div id="recipeModalContent"></div>
  </div>
</div>

<!-- BLOG MODAL -->
<div class="modal-bg" id="blogModal">
  <div class="modal-box">
    <button class="modal-close-btn" onclick="closeModal('blogModal')">âœ•</button>
    <div id="blogModalContent"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     AI CHATBOT â€” BACKEND FEATURE #1
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div style="position:fixed;bottom:2rem;left:2rem;z-index:8000;">
  <div class="chat-window" id="chatWindow">
    <div class="chat-header">
      <div class="chat-header-left">
        <div class="chat-avatar">ğŸ¤–</div>
        <div class="chat-header-info">
          <h4>Swad Assistant</h4>
          <p>AI-powered â€¢ Bihar ka expert</p>
        </div>
      </div>
      <button class="chat-close" onclick="toggleChat()">âœ•</button>
    </div>
    <div class="chat-messages" id="chatMessages"></div>
    <div class="chat-suggestions" id="chatSuggestions">
      <button class="chat-sug" onclick="sendSuggestion(this)">Kya order karein?</button>
      <button class="chat-sug" onclick="sendSuggestion(this)">Veg options?</button>
      <button class="chat-sug" onclick="sendSuggestion(this)">Best dish â‚¹100 mein?</button>
      <button class="chat-sug" onclick="sendSuggestion(this)">Litti kaise banate hain?</button>
    </div>
    <div class="chat-input-row">
      <input class="chat-input" id="chatInput" placeholder="Kuch poochhoâ€¦" onkeydown="if(event.key==='Enter')sendChat()">
      <button class="chat-send" id="chatSendBtn" onclick="sendChat()">â¤</button>
    </div>
  </div>
  <button class="chat-fab" onclick="toggleChat()" title="AI Food Assistant">
    ğŸ¤–
    <span class="chat-fab-label">AI Assistant</span>
  </button>
</div>

<div class="toast-stack" id="toastStack"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DATA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
const DISHES=[
  {id:1,cat:'bihari',emoji:'ğŸ”¥',name:'Litti Chokha',desc:'Sattu stuffed wheat balls with roasted baigan chokha + tomato',price:99,veg:true,best:true},
  {id:2,cat:'bihari',emoji:'ğŸ«“',name:'Sattu Paratha',desc:'Stuffed sattu paratha with achar aur pyaz',price:80,veg:true,best:false},
  {id:3,cat:'bihari',emoji:'ğŸ¥',name:'Thekua',desc:'Deep fried wheat & jaggery cookies â€” Chhath prasad',price:60,veg:true,best:false},
  {id:4,cat:'bihari',emoji:'ğŸ²',name:'Chura Dahi',desc:'Flattened rice with thick dahi, sugar and mango',price:70,veg:true,best:true},
  {id:5,cat:'bihari',emoji:'ğŸ¥˜',name:'Bihari Kadhi Bari',desc:'Spiced yogurt kadhi with fried urad dal baris',price:110,veg:true,best:false},
  {id:6,cat:'bihari',emoji:'ğŸ›',name:'Dal Pitha',desc:'Steamed rice dumpling stuffed with dal & spices',price:90,veg:true,best:false},
  {id:7,cat:'curry',emoji:'ğŸ¥˜',name:'Mutton Curry',desc:'Slow-cooked Bihar style mutton with whole spices',price:280,veg:false,best:true},
  {id:8,cat:'curry',emoji:'ğŸ›',name:'Chicken Masala',desc:'Desi murgi ki masaledaar gravy',price:240,veg:false,best:false},
  {id:9,cat:'curry',emoji:'ğŸ¥—',name:'Chana Ghugni',desc:'Spiced white peas with onion & tamarind',price:100,veg:true,best:false},
  {id:10,cat:'curry',emoji:'ğŸ²',name:'Aloo Chokha',desc:'Mashed potato with mustard oil & raw onion',price:70,veg:true,best:false},
  {id:11,cat:'biryani',emoji:'ğŸš',name:'Chicken Biryani',desc:'Aromatic dum biryani with desi murgi',price:220,veg:false,best:true},
  {id:12,cat:'biryani',emoji:'ğŸš',name:'Mutton Biryani',desc:'Royal mutton dum biryani â€” Patna style',price:280,veg:false,best:false},
  {id:13,cat:'biryani',emoji:'ğŸš',name:'Veg Biryani',desc:'Basmati rice with seasonal vegetables',price:160,veg:true,best:false},
  {id:14,cat:'snacks',emoji:'ğŸ¥™',name:'Sattu Kachori',desc:'Crispy kachori stuffed with spiced sattu',price:40,veg:true,best:false},
  {id:15,cat:'snacks',emoji:'ğŸ§†',name:'Chura Pakoda',desc:'Flattened rice fritters â€” monsoon snack',price:60,veg:true,best:false},
  {id:16,cat:'snacks',emoji:'ğŸ¥¯',name:'Matar ka Nimki',desc:'Pea stuffed crispy nimki â€” Bihari style',price:50,veg:true,best:false},
  {id:17,cat:'mithai',emoji:'ğŸ¬',name:'Khaja',desc:'Silao ka mashhoor khaja â€” crispy & flaky sweet',price:60,veg:true,best:true},
  {id:18,cat:'mithai',emoji:'ğŸ®',name:'Balushahi',desc:'Soft melt-in-mouth sugar-dipped pastry',price:80,veg:true,best:false},
  {id:19,cat:'mithai',emoji:'ğŸ¯',name:'Anarsa',desc:'Rice & jaggery traditional Bihari sweet',price:70,veg:true,best:false},
  {id:20,cat:'mithai',emoji:'ğŸš',name:'Kheer',desc:'Creamy rice kheer with cardamom & dry fruits',price:90,veg:true,best:false},
  {id:21,cat:'drinks',emoji:'ğŸ¥›',name:'Sattu Sharbat',desc:'Cool sattu drink with lemon, cumin & jaggery',price:40,veg:true,best:true},
  {id:22,cat:'drinks',emoji:'ğŸ¹',name:'Bel Sharbat',desc:'Fresh bel fruit sherbet â€” digestive & cooling',price:50,veg:true,best:false},
  {id:23,cat:'drinks',emoji:'â˜•',name:'Adrak Chai',desc:'Strong ginger tea â€” Bihar waali asli chai',price:25,veg:true,best:false},
  {id:24,cat:'drinks',emoji:'ğŸ¥¤',name:'Lassi',desc:'Thick, sweet dahi lassi',price:55,veg:true,best:false},
];

const RECIPES=[
  {id:1,emoji:'ğŸ”¥',bg:'linear-gradient(135deg,#FFF3E0,#FFE0B2)',name:'Litti Chokha',cat:'Bihari',time:'60 min',serves:4,diff:'medium',
   desc:'Bihar ka national dish â€” sattu ke litti aur roasted baigan chokha',
   ingredients:['2 cups Gehun atta','1 cup Sattu','2 tbsp Mustard oil','1 Baigan (large)','2 Tamatar','1 tsp Kalonji','1 tsp Ajwain','3â€“4 Green chilies','1 inch Ginger','Salt, red chili','Lemon juice','Fresh coriander'],
   steps:['Atta mein namak, ajwain, mustard oil add karein. Tight dough banao, 20 min rest dein.','Sattu filling: sattu, pyaz, hari mirchi, adrak, kalonji, lemon, mustard oil, namak mix karein.','Dough balls banao. Sattu filling bharo. Tight seal karein.','Litti ko coal fire ya oven (200Â°C, 30â€“35 min) mein golden brown pakao. Ghee lagao.','Chokha: baigan, tamatar direct flame par jalayen.','Outer skin utaro. Baigan machlein. Mustard oil, green chili, pyaz, namak, coriander mix karein.','Garam litti ke saath chokha serve karein. Ghee zarur daalein!'],
   tip:'Asli swad ke liye litti ko coal par pakao!'},
  {id:2,emoji:'ğŸ«“',bg:'linear-gradient(135deg,#FFF8E1,#FFF3CD)',name:'Sattu Paratha',cat:'Bihari',time:'30 min',serves:3,diff:'easy',
   desc:'Bihar ka subah ka nashta â€” sattu se bhari crispy paratha',
   ingredients:['2 cups Atta','1 cup Sattu','1 tbsp Mustard oil','1 Onion (finely chopped)','2 Green chilies','1 tsp Cumin seeds','1 tsp Ajwain','Salt','Lemon juice','Ghee for cooking'],
   steps:['Atta soft dough banao. 15 min rest dein.','Sattu filling: sattu + pyaz + hari mirchi + jeera + ajwain + nimbu + mustard oil + namak.','Medium size atta ball lo. Flat karein.','Center mein sattu filling rakh kar seal karein. Phir flat karein.','Tawa par dono taraf ghee se golden brown seko.','Achar, dahi ke saath serve karein.'],
   tip:'Filling mein aam ka achar ka masala mix karein!'},
  {id:3,emoji:'ğŸ¥˜',bg:'linear-gradient(135deg,#EFEBE9,#E8D5B5)',name:'Bihari Mutton Curry',cat:'Non-Veg',time:'75 min',serves:4,diff:'hard',
   desc:'Patna style gosht â€” slow cooking se bani authentic curry',
   ingredients:['1 kg Mutton (bone-in)','3 tbsp Mustard oil','2 Onions','2 Tomatoes','2 tbsp Ginger-garlic paste','Whole spices: bay leaf, cloves, cardamom, cinnamon','2 tsp Coriander powder','1 tsp Red chili','1/2 tsp Turmeric','1 tsp Garam masala','Salt'],
   steps:['Mustard oil khadak karein. Whole spices daalein.','Onion golden brown hone tak pakao â€” 15 min.','Ginger-garlic paste + tomatoes pakao.','Sab spices daalein. Mutton bhuno.','Paani daalein. 45â€“50 min low flame par pakao.','Garam masala daalein. Bhaat ke saath serve karein.'],
   tip:'Mustard oil khadak karna zaroori hai!'},
  {id:4,emoji:'ğŸ¬',bg:'linear-gradient(135deg,#FFF8E1,#FFECB3)',name:'Khaja (Silao Ka)',cat:'Mithai',time:'45 min',serves:20,diff:'medium',
   desc:'Bihar ka famous crispy sweet â€” GI tagged mithai',
   ingredients:['2 cups Maida','4 tbsp Ghee (dough ke liye)','Ghee for frying','1.5 cups Sugar','3/4 cup Water','1/4 tsp Cardamom'],
   steps:['Maida mein ghee rubh karein. Stiff dough banao. 15 min rest.','ì–‡ì–‡ ì–‡ Thin rectangle mein bel dein.','Ghee lagayen, fold, bel â€” 4â€“5 baar (layering).','Small rectangles mein kaat lein.','Medium-low ghee mein golden crispy fry karein.','Chashni banao. Garam khaja daalein. Dry karein.'],
   tip:'Patience rakhein â€” high flame par andar kacha reh jaata hai!'},
  {id:5,emoji:'ğŸ¥›',bg:'linear-gradient(135deg,#E3F2FD,#BBDEFB)',name:'Sattu Sharbat',cat:'Drinks',time:'5 min',serves:2,diff:'easy',
   desc:'Bihar ka summer drink â€” 5 minute mein tayar',
   ingredients:['4 tbsp Sattu','2 glasses Cold water','1 Lemon','1 tsp Roasted cumin powder','1/2 tsp Black salt','Regular salt','Jaggery/sugar','Mint leaves','Ice'],
   steps:['Sattu + thoda paani â€” smooth paste banao.','Baaki thanda paani daalein.','Nimbu, kala namak, jeera, namak daalein.','Gur ya sugar â€” apne taste se.','Ice daalein. Pudina se garnish.','Serve karo aur garmi bhulaao!'],
   tip:'Aam ka panna thoda add karein!'},
  {id:6,emoji:'ğŸ²',bg:'linear-gradient(135deg,#F3E5F5,#E1BEE7)',name:'Chura Dahi',cat:'Bihari',time:'10 min',serves:2,diff:'easy',
   desc:'Bihari subah ka favourite â€” 10 minute mein tayar',
   ingredients:['1 cup Poha (chura)','1 cup Thick dahi','2 tbsp Sugar','1/2 cup Ripe mango','1/4 cup Milk','Pinch of salt'],
   steps:['Poha ko halka mash karein.','Dahi smooth karein. Thoda milk mix karein.','Poha + dahi + sugar + namak mix karein.','Aam ke tukde upar daalein.','Turant serve karein.'],
   tip:'Dahi thoda khatta hona chahiye!'},
];

const BLOGS=[
  {id:1,emoji:'ğŸ”¥',bg:'#FFF3E0',cat:'Bihar Special',date:'18 Feb 2025',read:'5 min',title:'Litti Chokha: Bihar Ka Raajkhana Jis Par Poora Desh Fida Hai',preview:'Bihar ka yeh humble dish aaj Delhi se Mumbai tak restaurants mein shaan se serve hota hai...',content:'<p>Litti Chokha sirf ek recipe nahi â€” ek virasat hai. Angrez zamaane mein Bihar ke kisan jab khet mein kaam karte the, unhe sattu ne zyada energy di. Gol wheat balls mein sattu bhar ke coal fire par pakana â€” yahi tha litti ka janam.</p><h5>Aaj Ka Scene</h5><p>Zomato aur Swiggy par litti chokha consistently top orders mein hain Bihar mein.</p>'},
  {id:2,emoji:'ğŸŒ¾',bg:'#F1F8E9',cat:'Culture',date:'10 Feb 2025',read:'4 min',title:'Sattu â€” Bihar Ka Superfood Jo Protein Shake Ko Peeche Chhod De',preview:'Sattu centuries se Bihar mein kha rahe hain aur aaj modern nutrition science bhi iska loha maan rahi hai...',content:'<p>100g sattu mein: 22g protein, 65g carbs, 7g fiber, iron, calcium. New York aur London mein "Sattu Smoothie" premium cafes mein milti hai!</p>'},
  {id:3,emoji:'ğŸ™',bg:'#E8F5E9',cat:'Travel+Food',date:'5 Feb 2025',read:'6 min',title:'Patna Ke 7 Best Street Food Spots Jo Har Bihar Wale Ko Pata Hona Chahiye',preview:'Boring Road se lekar Harding Park tak â€” Patna ki galiyon mein chupi hain woh flavors...',content:'<p><b>1. Boring Road â€” Nimki Adda:</b> Evening mein chai + nimki. â‚¹20 mein ek packet.</p><p><b>2. Harding Park â€” Chaat Gali:</b> Gol gappa, dahi puri â€” Saturday evening mein queue lagti hai.</p><p><b>3. Station Road â€” Litti Waale Baba:</b> 40 saalon se ek hi jagah, ek hi taste.</p>'},
  {id:4,emoji:'ğŸ‰',bg:'#FFF8E1',cat:'Festival',date:'1 Feb 2025',read:'4 min',title:'Chhath Puja Ka Thekua â€” Maiya Ka Prasad',preview:'Chhath ka prasad sirf khana nahi, bhakti ka pratyaksha roop hai...',content:'<p>Wheat flour, jaggery, ghee, coconut se bana deep-fried sweet. London, New York aur Dubai mein bhi Chhath hoti hai aaj.</p>'},
  {id:5,emoji:'ğŸ¯',bg:'#EFEBE9',cat:'Sweet Stories',date:'25 Jan 2025',read:'3 min',title:'Silao Ka Khaja â€” Bihar Ki Woh Mithai Jise GI Tag Mila Hai',preview:'Nalanda district ke Silao ka khaja â€” 2000 saal purana swad...',content:'<p>2018 mein khaja ko GI tag mila. Silao ka khaja sirf haath se banta hai â€” koi machine replicate nahi kar sakti.</p>'},
  {id:6,emoji:'ğŸ‘¨â€ğŸ³',bg:'#E3F2FD',cat:'Tips',date:'20 Jan 2025',read:'5 min',title:'Bihari Khana Ghar Par Zyada Swadisht Kaise Banayein â€” 8 Expert Tips',preview:'Asli Bihari swad teen cheezon mein hai: mustard oil, slow cooking aur pyaar...',content:'<p><b>1. Sarson Ka Tel:</b> Khadak hone ke baad use karein.<br><b>2. Slow Cooking:</b> Patience se pakao â€” taste double hota hai.<br><b>3. Coal Fire:</b> Litti ka asli swad coal se aata hai.</p>'},
];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PERSISTENT STORAGE â€” BACKEND FEATURE #2
   Uses window.storage API
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function saveData(key, value) {
  try {
    if (window.storage) {
      await window.storage.set(key, JSON.stringify(value));
    }
  } catch(e) {
    // Fallback: store in memory only
  }
}

async function loadData(key) {
  try {
    if (window.storage) {
      const result = await window.storage.get(key);
      if (result) return JSON.parse(result.value);
    }
  } catch(e) {}
  return null;
}

// In-memory fallback storage
const memStore = {};
async function saveLocal(key, value) {
  memStore[key] = value;
  await saveData(key, value);
}
async function loadLocal(key, def) {
  if (memStore[key] !== undefined) return memStore[key];
  const val = await loadData(key);
  if (val !== null) { memStore[key] = val; return val; }
  return def;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CART
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let cart = {};
function cartTotal() { return Object.values(cart).reduce((s,v)=>s+v.qty*v.price,0); }
function cartCount() { return Object.values(cart).reduce((s,v)=>s+v.qty,0); }
function updateCartBadge() { document.getElementById('cartCount').textContent=cartCount(); }

function addToCart(id) {
  const d=DISHES.find(x=>x.id===id); if(!d) return;
  if(cart[id]) cart[id].qty++; else cart[id]={...d,qty:1};
  updateCartBadge(); renderCart(); renderOrderGrid(currentOrderFilter);
  showToast(`ğŸ›’ ${d.emoji} ${d.name} cart mein add hua!`);
}
function changeQty(id, delta) {
  if(!cart[id]){ if(delta>0) addToCart(id); return; }
  cart[id].qty+=delta;
  if(cart[id].qty<=0) delete cart[id];
  updateCartBadge(); renderCart(); renderOrderGrid(currentOrderFilter);
}

function renderCart() {
  const body=document.getElementById('cartBody');
  const sub=document.getElementById('cartSub');
  const items=Object.values(cart);
  if(!items.length){
    body.innerHTML='<div class="cart-empty"><span class="cart-empty-icon">ğŸ›’</span>Cart khaali hai<br><small>Items add karein</small></div>';
    sub.style.display='none'; return;
  }
  body.innerHTML=items.map(i=>`
    <div class="cart-item">
      <div class="ci-left"><h5>${i.emoji} ${i.name}</h5><p>${i.qty} Ã— â‚¹${i.price}</p></div>
      <div class="ci-right">
        <span class="ci-price">â‚¹${i.qty*i.price}</span>
        <button class="ci-del" onclick="changeQty(${i.id},-1)">âœ•</button>
      </div>
    </div>`).join('');
  const sa=cartTotal(), gst=Math.round(sa*0.05);
  document.getElementById('cartSubAmt').textContent='â‚¹'+sa;
  document.getElementById('cartGst').textContent='â‚¹'+gst;
  document.getElementById('cartTotalAmt').textContent='â‚¹'+(sa+gst);
  sub.style.display='block';
}

async function placeOrder() {
  if(!Object.keys(cart).length) return;
  const items=Object.values(cart);
  const sa=cartTotal(), gst=Math.round(sa*0.05);
  const order={
    id:'BKS'+Date.now(),
    date:new Date().toLocaleString('hi-IN',{day:'numeric',month:'short',year:'numeric',hour:'2-digit',minute:'2-digit'}),
    items:items.map(i=>({name:i.name,emoji:i.emoji,qty:i.qty,price:i.price})),
    subtotal:sa, gst, total:sa+gst,
    status:'Delivered'
  };

  const orders = await loadLocal('orders', []);
  orders.unshift(order);
  await saveLocal('orders', orders);

  cart={}; updateCartBadge(); renderCart(); renderOrderGrid(currentOrderFilter);
  showToast(`ğŸ‰ Order #${order.id.slice(-6)} place ho gaya! 30 min mein delivery hogi. Shukriya!`);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TABLE BOOKING â€” saves to storage
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function bookTable() {
  const n=document.getElementById('bName').value.trim();
  const p=document.getElementById('bPhone').value.trim();
  const d=document.getElementById('bDate').value;
  const t=document.getElementById('bTime').value;
  const g=document.getElementById('bGuests').value;
  const s=document.getElementById('bSpecial').value.trim();
  if(!n||!p||!d||!t){showToast('âš ï¸ Naam, Phone, Tarikh aur Samay fill karein!','#B5270C');return;}

  const booking={
    id:'TBL'+Date.now(),
    name:n, phone:p, date:d, time:t, guests:g, special:s||'â€”',
    bookedAt:new Date().toLocaleString('hi-IN',{day:'numeric',month:'short',year:'numeric'})
  };
  const bookings = await loadLocal('bookings',[]);
  bookings.unshift(booking);
  await saveLocal('bookings', bookings);

  showToast(`âœ… Table book ho gaya, ${n}! Confirmation SMS bheja ja raha hai.`);
  ['bName','bPhone','bDate','bTime','bSpecial'].forEach(id=>document.getElementById(id).value='');
  renderBookingHistory();
}

function renderBookingHistory() {
  loadLocal('bookings',[]).then(bookings=>{
    const el=document.getElementById('bookingHistoryList');
    const all=document.getElementById('allBookingsList');
    if(!bookings.length){
      const empty='<div class="history-empty"><span class="big-icon">ğŸ“…</span><p>Koi booking nahi abhi</p></div>';
      if(el) el.innerHTML=empty;
      if(all) all.innerHTML=empty;
      return;
    }
    const html=bookings.map(b=>`
      <div class="booking-history-card">
        <div class="bh-header">
          <div>
            <div class="bh-name">ğŸª‘ ${b.name}</div>
            <div style="font-size:0.75rem;color:var(--muted)">Booked on ${b.bookedAt} â€¢ #${b.id.slice(-6)}</div>
          </div>
          <span class="bh-badge">Confirmed âœ“</span>
        </div>
        <div class="bh-details">
          <div class="bh-detail">ğŸ“… <b>${b.date}</b></div>
          <div class="bh-detail">ğŸ• <b>${b.time}</b></div>
          <div class="bh-detail">ğŸ‘¥ <b>${b.guests}</b></div>
          <div class="bh-detail">ğŸ“ <b>${b.phone}</b></div>
          ${b.special!=='â€”'?`<div class="bh-detail" style="grid-column:1/-1">ğŸ’¬ <b>${b.special}</b></div>`:''}
        </div>
      </div>`).join('');
    if(el) el.innerHTML=html;
    if(all) all.innerHTML=html;
  });
}

function renderOrderHistoryPage() {
  loadLocal('orders',[]).then(orders=>{
    const el=document.getElementById('orderHistoryList');
    if(!orders.length){
      el.innerHTML='<div class="history-empty"><span class="big-icon">ğŸ›’</span><p>Abhi tak koi order nahi diya. Abhi order karein!</p><button class="btn-primary" style="margin-top:1rem" onclick="goTo(\'order\',null)">Order Karein ğŸ›µ</button></div>';
      return;
    }
    el.innerHTML=orders.map(o=>`
      <div class="order-history-card">
        <div class="oh-header">
          <div>
            <div class="oh-id">Order #${o.id.slice(-6)}</div>
            <div class="oh-date">${o.date}</div>
          </div>
          <span class="oh-status delivered">âœ… ${o.status}</span>
        </div>
        <div class="oh-items">
          ${o.items.map(i=>`<span class="oh-item-chip">${i.emoji} ${i.name} Ã—${i.qty}</span>`).join('')}
        </div>
        <div class="oh-footer">
          <div>
            <div class="oh-total">â‚¹${o.total}</div>
            <div style="font-size:0.75rem;color:var(--muted)">Subtotal â‚¹${o.subtotal} + GST â‚¹${o.gst}</div>
          </div>
          <button class="btn-reorder" onclick="reorder(${JSON.stringify(o.items).replace(/"/g,'&quot;')})">ğŸ”„ Reorder</button>
        </div>
      </div>`).join('');
  });
  renderBookingHistory();
}

function reorder(items) {
  items.forEach(item=>{
    const d=DISHES.find(x=>x.name===item.name);
    if(d){ if(cart[d.id]) cart[d.id].qty+=item.qty; else cart[d.id]={...d,qty:item.qty}; }
  });
  updateCartBadge(); renderCart(); renderOrderGrid(currentOrderFilter);
  goTo('order',null);
  showToast('ğŸ›’ Items cart mein add ho gaye! Order karein.');
}

async function clearOrderHistory() {
  await saveLocal('orders',[]);
  renderOrderHistoryPage();
  showToast('ğŸ—‘ Order history clear ho gayi.');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MENU RENDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderDishCard(d,showAdd=true){
  const vb=d.veg?'<div class="badge-veg"></div>':'<div class="badge-nonveg"></div>';
  const bb=d.best?'<span class="badge-bestseller">Bestseller</span>':'';
  return `<div class="dish-card">
    <div class="dish-img">${d.emoji}<div class="dish-badges">${vb}${bb}</div></div>
    <div class="dish-body">
      <h4>${d.name}</h4><p class="desc">${d.desc}</p>
      <div class="dish-footer">
        <div class="dish-price">â‚¹${d.price}<span>/ plate</span></div>
        ${showAdd?`<button class="btn-addcart" onclick="addToCart(${d.id})">+ Add</button>`:''}
      </div>
    </div>
  </div>`;
}

let currentMenuFilter='all';
function filterMenu(f,btn){
  document.querySelectorAll('#restTabs .pill').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active'); currentMenuFilter=f;
  const items=f==='all'?DISHES:DISHES.filter(d=>d.cat===f);
  document.getElementById('menuGrid').innerHTML=items.map(d=>renderDishCard(d)).join('');
}

let currentOrderFilter='all';
function renderOrderGrid(f){
  const items=f==='all'?DISHES:DISHES.filter(d=>d.cat===f);
  document.getElementById('orderGrid').innerHTML=items.map(d=>{
    const qty=cart[d.id]?.qty||0;
    const vb=d.veg?'<div class="badge-veg"></div>':'<div class="badge-nonveg"></div>';
    const bb=d.best?'<span class="badge-bestseller">Bestseller</span>':'';
    return `<div class="order-card">
      <div class="dish-img" style="height:140px;font-size:3.5rem;border-radius:12px;margin-bottom:0.75rem;">
        ${d.emoji}<div class="dish-badges">${vb}${bb}</div>
      </div>
      <h4>${d.name}</h4><p>${d.desc}</p>
      <div class="oc-foot">
        <div class="oc-price">â‚¹${d.price}</div>
        <div class="qty-wrap">
          <button class="qty-btn" onclick="changeQty(${d.id},-1)">âˆ’</button>
          <span class="qty-num">${qty}</span>
          <button class="qty-btn" onclick="changeQty(${d.id},1)">+</button>
        </div>
      </div>
    </div>`;
  }).join('');
}

function filterOrder(f,btn){
  document.querySelectorAll('#orderTabs .pill').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active'); currentOrderFilter=f; renderOrderGrid(f);
}

function renderHomePopular(){
  document.getElementById('homePopular').innerHTML=DISHES.filter(d=>d.best).slice(0,6).map(d=>renderDishCard(d)).join('');
}

/* RECIPES */
function renderRecipes(list){
  document.getElementById('recipeGrid').innerHTML=list.map(r=>`
    <div class="recipe-card" onclick="openRecipe(${r.id})">
      <div class="recipe-img" style="background:${r.bg}">
        ${r.emoji}
        <span class="diff-chip ${r.diff}">${r.diff==='easy'?'Easy':r.diff==='medium'?'Medium':'Expert'}</span>
      </div>
      <div class="recipe-body">
        <h4>${r.name}</h4><p>${r.desc}</p>
        <div class="recipe-meta-row">
          <span class="rmeta">â± <b>${r.time}</b></span>
          <span class="rmeta">ğŸ‘¥ <b>${r.serves} log</b></span>
          <span class="rmeta">ğŸ½ <b>${r.cat}</b></span>
        </div>
      </div>
    </div>`).join('');
}
function searchRecipes(){
  const q=document.getElementById('recipeSrch').value.toLowerCase();
  renderRecipes(RECIPES.filter(r=>r.name.toLowerCase().includes(q)||r.cat.toLowerCase().includes(q)));
}
function openRecipe(id){
  const r=RECIPES.find(x=>x.id===id);
  document.getElementById('recipeModalContent').innerHTML=`
    <div class="modal-header">
      <div class="modal-emoji">${r.emoji}</div>
      <h3>${r.name}</h3>
      <div class="modal-chips">
        <span class="modal-chip">â± ${r.time}</span><span class="modal-chip">ğŸ‘¥ ${r.serves} log</span>
        <span class="modal-chip">ğŸ½ ${r.cat}</span>
        <span class="modal-chip diff-chip ${r.diff}" style="position:static;margin:0">${r.diff}</span>
      </div>
      <p style="color:var(--muted);font-size:0.9rem">${r.desc}</p>
    </div>
    <div class="modal-body">
      <h4>ğŸ›’ Ingredients (Samagri)</h4>
      <ul class="ingredient-list">${r.ingredients.map(i=>`<li>${i}</li>`).join('')}</ul>
      <h4>ğŸ‘¨â€ğŸ³ Banane Ka Tarika</h4>
      <ol class="steps-ol">${r.steps.map(s=>`<li>${s}</li>`).join('')}</ol>
      <div class="pro-tip"><b>ğŸ’¡ Pro Tip:</b> ${r.tip}</div>
    </div>`;
  document.getElementById('recipeModal').classList.add('open');
}

/* BLOG */
function renderBlogs(){
  document.getElementById('blogGrid').innerHTML=BLOGS.map(b=>`
    <div class="blog-card">
      <div class="blog-img" style="background:linear-gradient(135deg,${b.bg},#FFF)">
        ${b.emoji}<span class="blog-cat">${b.cat}</span>
      </div>
      <div class="blog-body">
        <div class="blog-meta"><span>ğŸ“… ${b.date}</span><span>â± ${b.read} read</span></div>
        <h4>${b.title}</h4><p>${b.preview}</p>
        <button class="btn-read-more" onclick="openBlog(${b.id})">Poora Padhein â†’</button>
      </div>
    </div>`).join('');
}
function openBlog(id){
  const b=BLOGS.find(x=>x.id===id);
  document.getElementById('blogModalContent').innerHTML=`
    <div class="modal-header">
      <div class="modal-emoji">${b.emoji}</div>
      <div style="color:var(--red);font-size:0.72rem;letter-spacing:2px;text-transform:uppercase;font-weight:700;margin-bottom:0.3rem">${b.cat}</div>
      <h3>${b.title}</h3>
      <div class="modal-chips"><span class="modal-chip">ğŸ“… ${b.date}</span><span class="modal-chip">â± ${b.read}</span></div>
    </div>
    <div class="modal-body"><div style="font-size:0.93rem;line-height:1.8;color:var(--text)">${b.content}</div></div>`;
  document.getElementById('blogModal').classList.add('open');
}

/* MODAL */
function closeModal(id){document.getElementById(id).classList.remove('open');}
document.querySelectorAll('.modal-bg').forEach(m=>{
  m.addEventListener('click',e=>{if(e.target===m)m.classList.remove('open');});
});

/* NAVIGATION */
function goTo(page,linkEl){
  document.querySelectorAll('.page-section').forEach(s=>s.classList.remove('active'));
  document.getElementById(page).classList.add('active');
  document.querySelectorAll('.nav-links a').forEach(a=>a.classList.remove('active'));
  if(linkEl) linkEl.classList.add('active');
  else document.querySelectorAll('.nav-links a').forEach(a=>{
    if(a.getAttribute('onclick')&&a.getAttribute('onclick').includes(`'${page}'`)) a.classList.add('active');
  });
  document.getElementById('navLinks').classList.remove('open');
  window.scrollTo({top:0,behavior:'smooth'});
  if(page==='restaurant'){filterMenu(currentMenuFilter,document.querySelector('#restTabs .pill.active')||document.querySelector('#restTabs .pill'));renderBookingHistory();}
  if(page==='recipes') renderRecipes(RECIPES);
  if(page==='order'){renderOrderGrid(currentOrderFilter);renderCart();}
  if(page==='history') renderOrderHistoryPage();
  if(page==='blog') renderBlogs();
}
function toggleNav(){document.getElementById('navLinks').classList.toggle('open');}

/* TOAST */
function showToast(msg,color=''){
  const stack=document.getElementById('toastStack');
  const el=document.createElement('div');
  el.className='toast'; el.textContent=msg;
  if(color) el.style.borderLeftColor=color;
  stack.appendChild(el);
  requestAnimationFrame(()=>requestAnimationFrame(()=>el.classList.add('show')));
  setTimeout(()=>{el.classList.remove('show');setTimeout(()=>el.remove(),400);},3500);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AI CHATBOT â€” BACKEND FEATURE #3
   Anthropic API powered
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let chatOpen=false;
let chatHistory=[];
let chatBusy=false;

const MENU_CONTEXT=`
Tum "Swad Assistant" ho â€” Bihar Ka Swad restaurant ke AI food assistant. Tum Bihari food ke expert ho aur customers ko menu recommendations dete ho.

Restaurant Menu:
BIHARI SPECIAL: Litti Chokha â‚¹99 (veg, bestseller), Sattu Paratha â‚¹80 (veg), Thekua â‚¹60 (veg), Chura Dahi â‚¹70 (veg, bestseller), Bihari Kadhi Bari â‚¹110 (veg), Dal Pitha â‚¹90 (veg)
CURRY: Mutton Curry â‚¹280 (non-veg, bestseller), Chicken Masala â‚¹240 (non-veg), Chana Ghugni â‚¹100 (veg), Aloo Chokha â‚¹70 (veg)
BIRYANI: Chicken Biryani â‚¹220 (non-veg, bestseller), Mutton Biryani â‚¹280 (non-veg), Veg Biryani â‚¹160 (veg)
SNACKS: Sattu Kachori â‚¹40, Chura Pakoda â‚¹60, Matar ka Nimki â‚¹50
MITHAI: Khaja â‚¹60 (bestseller), Balushahi â‚¹80, Anarsa â‚¹70, Kheer â‚¹90
DRINKS: Sattu Sharbat â‚¹40 (bestseller), Bel Sharbat â‚¹50, Adrak Chai â‚¹25, Lassi â‚¹55

Rules:
- Sirf Hindi ya Hinglish mein baat karo (Hindi + English mix)
- Short aur friendly replies do (2-4 sentences max)
- Food emojis use karo
- Restaurant ke menu par focus karo
- Agar koi dish ki recipe poochhe toh briefly batao
- â‚¹299 se upar free delivery hai
- 30 minute mein delivery Patna mein
- Restaurant ka number: +91 98765 43210
`;

function toggleChat(){
  chatOpen=!chatOpen;
  const win=document.getElementById('chatWindow');
  if(chatOpen){
    win.classList.add('open');
    if(!chatHistory.length) addBotMsg('Namaskar! ğŸ™ Main Swad Assistant hoon. Aaj aapki kya khidmat kar sakta hoon? Kuch order karna chahte hain ya koi recipe jaannni hai? ğŸ˜Š');
    setTimeout(()=>document.getElementById('chatInput').focus(),300);
  } else {
    win.classList.remove('open');
  }
}

function addBotMsg(text){
  const msgs=document.getElementById('chatMessages');
  const div=document.createElement('div');
  div.className='msg bot'; div.innerHTML=text;
  msgs.appendChild(div);
  msgs.scrollTop=msgs.scrollHeight;
}
function addUserMsg(text){
  const msgs=document.getElementById('chatMessages');
  const div=document.createElement('div');
  div.className='msg user'; div.textContent=text;
  msgs.appendChild(div);
  msgs.scrollTop=msgs.scrollHeight;
}
function addLoadingMsg(){
  const msgs=document.getElementById('chatMessages');
  const div=document.createElement('div');
  div.className='msg-loading'; div.id='chatLoading';
  div.innerHTML='<span></span><span></span><span></span>';
  msgs.appendChild(div);
  msgs.scrollTop=msgs.scrollHeight;
}
function removeLoadingMsg(){
  const el=document.getElementById('chatLoading');
  if(el) el.remove();
}

function sendSuggestion(btn){
  document.getElementById('chatInput').value=btn.textContent;
  sendChat();
}

async function sendChat(){
  const input=document.getElementById('chatInput');
  const text=input.value.trim();
  if(!text||chatBusy) return;
  input.value='';
  chatBusy=true;
  document.getElementById('chatSendBtn').disabled=true;
  document.getElementById('chatSuggestions').style.display='none';

  addUserMsg(text);
  chatHistory.push({role:'user',content:text});
  addLoadingMsg();

  try {
    const response=await fetch('https://api.anthropic.com/v1/messages',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        model:'claude-sonnet-4-20250514',
        max_tokens:1000,
        system:MENU_CONTEXT,
        messages:chatHistory.slice(-10)
      })
    });
    const data=await response.json();
    removeLoadingMsg();
    const reply=data.content?.[0]?.text||'Maafi chahta hoon, kuch error aa gayi. Phir try karein.';
    chatHistory.push({role:'assistant',content:reply});
    addBotMsg(reply.replace(/\n/g,'<br>'));
  } catch(e){
    removeLoadingMsg();
    addBotMsg('Arey! Network issue aa gaya ğŸ˜… Thoda baad try karein ya seedha call karein: <b>+91 98765 43210</b>');
  }
  chatBusy=false;
  document.getElementById('chatSendBtn').disabled=false;
}

/* INIT */
renderHomePopular();
document.getElementById('menuGrid').innerHTML=DISHES.map(d=>renderDishCard(d)).join('');
renderOrderGrid('all');
renderRecipes(RECIPES);
renderBlogs();
renderBookingHistory();
</script>
</body>
</html>
